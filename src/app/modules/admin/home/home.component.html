<div class="absolute inset-0 flex flex-col min-w-0 overflow-hidden">

  <div class="flex-auto overflow-y-auto shadow" cdkScrollable>
    <!-- Header -->
    <div class="bg-card dark:border-b  ">
      <div class="flex flex-col w-full max-w-screen-xl mx-auto px-4 sm:px-6">
        <div class="flex flex-col sm:flex-row flex-auto sm:items-center min-w-0 my-4 sm:my-4">
          <!-- Avatar and name -->
          <div class="flex flex-auto items-center min-w-0">
            <div class="flex-0 w-16 h-16 rounded-full overflow-hidden">
              <img *ngIf="user.foto_segusu" class="w-full h-full object-cover" [src]="user.foto_segusu">
              <img *ngIf="!user.foto_segusu" class="w-full h-full object-cover" src="assets/images/user.png">
            </div>
            <div class="flex flex-col min-w-0 ml-4">
              <ng-container>
                <div class="text-2xl md:text-3xl font-semibold tracking-tight leading-7 md:leading-snug truncate">
                  Bienvenido {{user.nombre_segusu | uppercase}}</div>
              </ng-container>
              <div class="flex items-center">
                <mat-icon class="icon-size-5" [svgIcon]="'heroicons_solid:calendar'"></mat-icon>
                <div class="ml-1.5 leading-6 truncate text-secondary">Último ingreso {{last_date|date: 'dd/MM/yyyy'}} a las
                  {{last_time}}</div>
              </div>
            </div>
          </div>
        </div>
        <!-- Project selector -->
      </div>
    </div>

    <!-- Main -->
    <div class="flex flex-wrap w-full max-w-screen-xl mx-auto p-4">
      <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 w-full min-w-0">
        <div class="sm:col-span-4 md:col-span-4 flex flex-col flex-auto">
          <div class="grid grid-cols-1 lg:grid-cols-3 grid-flow-row gap-4 w-full">
            <!-- USUARIO -->
            <div class="sm:col-span-1 flex flex-col flex-auto">
              <div class="flex-auto grid grid-cols-1 sm:col-span-8 gap-y-4">
                <div class="sm:col-span-2 flex flex-col flex-auto p-2 bg-card shadow-xl rounded-md overflow-hidden">
                  <div class="flex items-start justify-between border-b">
                    <div class="text-lg font-medium tracking-tight leading-6 truncate">PERFIL:</div>
                    <div class="ml-2 text-primary">
                      <i class="fas fa-id-card-alt text-lg"></i>
                    </div>
                  </div>
                  <div class="flex items-center mt-1">
                    <div class="flex flex-col mr-4">
                      <img class="w-7 h-7 mr-5" src="assets/icons/user.svg" alt="profile-user">
                    </div>
                    <div class="flex flex-col flex-auto">
                      <div class="text-2xl text-primary-500 font-semibold tracking-tight leading-tight">
                        {{user.nombre_segper | uppercase}}
                      </div>
                    </div>
                  </div>
                </div>
                <!--PUNTAJE SUPERVISION-->
                <!-- <div
                  class="sm:col-span-2 flex flex-col flex-auto p-2 bg-card shadow-xl rounded-md overflow-hidden {{color}}">
                  <div class="flex items-start justify-between border-b">
                    <div class="text-lg font-medium tracking-tight leading-6 truncate">ÚLTIMA SUPERVISIÓN:</div>
                    <div class="ml-2 text-primary">
                      <i class="fas fa-tachometer-alt text-lg"></i>
                    </div>
                  </div>
                  <div class="flex items-center mt-1 text-lg font-medium">
                    <div class="flex items-center justify-between w-full p-2 filter-info">
                      Puntaje:
                      <div class="flex flex-col text-right">
                        <div *ngIf="puntaje" class="text-lg font-semibold leading-tight">{{puntaje}}</div>
                        <div *ngIf="!puntaje" class="text-lg font-semibold leading-tight">No se aplica</div>
                      </div>
                    </div>
                  </div>
                </div> -->
              </div>
            </div>
            <!-- TIEMPO RELOJ -->
            <div class="sm:col-span-2 flex flex-col">
              <div class="flex-auto grid grid-cols-1 sm:grid-cols-4 gap-4">
                <div class="sm:col-span-2 flex flex-col flex-auto p-2 bg-card shadow-xl rounded-md overflow-hidden ">
                  <div class="flex items-start justify-between border-b">
                    <div class="text-lg font-medium tracking-tight leading-6 truncate">
                      {{establecimiento.ciudad
                      ?? 'RIOBAMBA'}}</div>
                    <div class="ml-2 text-primary">
                      <i class="fas fa-map-marker-alt text-lg"></i>
                    </div>
                  </div>
                  <div class="flex flex-col items-center">
                    <div class="flex items-center max-w-80 mt-6 w-full filter-info">
                      <img class="w-20 h-20 ml-5 mr-5 " src="{{urlIcono}}" alt="weather">
                      <div class="flex flex-col">
                        <div class="text-8xl sm:text-8xl font-bold tracking-tight leading-none text-amber-500">
                          {{tempActual}}
                        </div>
                      </div>
                    </div>
                    <div class="flex items-baseline justify-center w-full mt-4 text-secondary">
                      <div class="text-lg font-medium truncate">{{establecimiento.provincia ?? 'CHIMBORAZO'}}
                      </div>
                    </div>
                  </div>
                </div>
                <!-- reloj -->
                <div class="sm:col-span-2 flex flex-col flex-auto p-2 bg-card shadow-xl rounded-md overflow-hidden ">
                  <div class="flex items-start justify-between border-b">
                    <div class="text-lg font-medium tracking-tight leading-6 truncate">
                      {{day|uppercase}}</div>
                    <div class="ml-2 text-primary">
                      <i class="fas fa-clock text-lg"></i>
                    </div>
                  </div>
                  <div class="flex items-center justify-between w-full px-6 pt-6 filter-info">
                    <img class="w-13 h-13 mr-5" src="assets/icons/calendario.svg" alt="Calendario">
                    <div class="flex flex-col text-right">
                      <div class="flex items-center whitespace-nowrap text-right">
                        <div class="text-7xl sm:text-7xl font-bold tracking-tight leading-none text-orange-500">
                          {{hours}}
                        </div>
                        <div class="ml-2 text-4xl font-semibold text-orange-500">{{ampm}}</div>
                      </div>
                    </div>
                  </div>
                  <div class="flex items-baseline justify-center w-full mt-7 text-secondary">
                    <div class="text-lg font-medium truncate">{{date}}
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div
          class="sm:col-span-2 md:col-span-4 lg:col-span-2 flex flex-col flex-auto p-2 bg-card shadow-xl rounded-md overflow-hidden">
          <div class="flex items-start justify-between border-b">
            <div class="text-lg font-medium tracking-tight leading-6 truncate">DATOS DEL ESTABLECIMIENTO: </div>
            <div class="ml-2 text-primary">
              <i class="fas fa-store  text-lg"></i>
            </div>
          </div>
          <div class="flex items-center justify-between mt-2">
            <div class="flex flex-col mr-6">
              <div class="text-lg font-semibold leading-tight">DISTRITO: {{establecimiento?.distrito}}</div>
              <!-- <div class="text-secondary font-medium text-md">Travel locations</div> -->
              <div class="flex flex-wrap items-center text-secondary my-1">
                <span><i class="text-primary-500 icon-size-4 fas fa-home mr-3"></i></span>
                <div class="text-secondary">{{establecimiento?.establecimiento}}</div>
              </div>
              <div class="flex flex-wrap items-center text-secondary my-1">
                <span><i class="text-primary-500 icon-size-4 fas fa-hospital mr-3"></i></span>
                <span class="whitespace-nowrap">{{establecimiento?.tipo_establecimiento}}</span>
              </div>
              <div class="flex flex-wrap items-center text-secondary my-1">
                <span><i class="text-primary-500 icon-size-4 fas fa-directions mr-3"></i></span>
                <span class="whitespace-nowrap">{{establecimiento?.direccion}}</span>
              </div>
            </div>
            <!--   <img *ngIf="!establecimiento?.logo_segemp" src='assets/images/no-img.jpg' alt="Logo sucursal" class="w-20 rounded-lg object-cover"> -->
            <!--                         <img  [src]="'assets/images/logo/logo-msp-1.jpg'" alt="Logo MSP" class="w-40 rounded-lg object-cover">
 -->
          </div>
        </div>
        <div
          class="sm:col-span-2 md:col-span-4 lg:col-span-2 flex flex-col flex-auto p-2 bg-card shadow-xl rounded-md overflow-hidden">
          <div class="flex items-start justify-between border-b">
            <div *ngIf="puntaje<60" class="text-xl font-medium tracking-tight leading-6 truncate">
              DISPOSITIVO: </div>
            <div class="ml-2 text-primary">
              <div class="text-lg font-medium truncate text-primary">{{device.deviceType}}</div>
            </div>
          </div>
          <div class="flex items-center justify-between w-full p-2 filter-info">
            <img [src]="'assets/images/browser/'+ device.browser  + '-logo.png' " alt="browser" class="w-12 h-12 ">
            <div class="flex flex-col text-right">
              <div class="text-lg font-semibold leading-tight">{{device.browser}}</div>
              <div class="text-md text-secondary rounded-full">
                {{device.browser_version}}</div>
            </div>
          </div>
          <div class="flex items-center justify-between w-full p-2 filter-info">
            <img *ngIf="device.isMobile" src="assets/icons/movil.svg" alt="Mobile" class="w-12 h-12">
            <img *ngIf="device.isTablet" src="assets/icons/desktop.svg" alt="Tablet" class="w-12 h-12">
            <img *ngIf="device.isDesktop" src="assets/icons/desktop.svg" alt="Desktop" class="w-12 h-12">
            <div class="flex flex-col text-right">
              <div class="text-xl font-semibold leading-tight">{{device.os}}</div>
              <div class="text-md text-secondary">{{device.os_version}}</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
